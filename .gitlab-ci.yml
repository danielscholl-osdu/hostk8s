stages:
  - validate-docker

validate-docker-small:
  stage: validate-docker
  image: docker:27.0.3
  tags:
    - docker-small   # target the runner with host Docker socket
  script:
    - echo "Checking for host Docker socket..."
    - if [ -S /var/run/docker.sock ]; then
        echo "✅ Docker socket found, testing docker connectivity...";
        docker version;
      else
        echo "❌ No Docker socket found.";
        exit 1;
      fi
