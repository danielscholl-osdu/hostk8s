######################
## Example: Enable Ambient Mode for Applications
## Copy and modify this for your applications
######################

# Enable Ambient mode for a namespace
apiVersion: v1
kind: Namespace
metadata:
  name: my-app
  labels:
    # This label enables Ambient mode - instant mTLS without sidecars!
    istio.io/dataplane-mode: ambient
    # Standard HostK8s labels
    hostk8s.app: my-app
    hostk8s.stack: my-stack

---
# Example: Verify Ambient mode is working
# kubectl logs -n istio-system -l app=ztunnel | grep my-app
